<mat-toolbar>
  <h1 class="mat-h1">Student Form</h1>
</mat-toolbar>
<mat-spinner *ngIf="isLoading"></mat-spinner>
<form [formGroup]="applicationForm" (ngSubmit)="onSubmit()" *ngIf="!isLoading">
  <mat-card class="form-card">
    <mat-card-content>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>
              Full name
            </mat-label>
            <input
              matInput
              placeholder="Full name of the student"
              formControlName="fullName"
            />
            <mat-error
              *ngIf="applicationForm.controls['fullName'].hasError('required')"
            >
              Student's full name is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>Class</mat-label>
            <mat-select placeholder="Class" formControlName="standard">
              <mat-option *ngFor="let c of classes" [value]="c">
                {{ c }}
              </mat-option>
            </mat-select>
            <mat-error
              *ngIf="applicationForm.controls['standard'].hasError('required')"
            >
              Class is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>Date of Birth</mat-label>
            <input
              matInput
              placeholder="Date of Birth"
              formControlName="dob"
              [matDatepicker]="picker"
            />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
            <mat-error
              *ngIf="applicationForm.controls['dob'].hasError('required')"
            >
              Date of Birth is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>Mother's name</mat-label>
            <input
              matInput
              placeholder="Mother's name"
              formControlName="motherName"
            />
            <mat-error
              *ngIf="
                applicationForm.controls['motherName'].hasError('required')
              "
            >
              Mother's name is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>Father's name</mat-label>
            <input
              matInput
              placeholder="Father's name"
              formControlName="fatherName"
            />
            <mat-error
              *ngIf="
                applicationForm.controls['fatherName'].hasError('required')
              "
            >
              Father's name is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>Address</mat-label>
            <textarea
              matInput
              placeholder="Address"
              formControlName="address"
            ></textarea>
            <mat-error
              *ngIf="applicationForm.controls['address'].hasError('required')"
            >
              Address is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>City</mat-label>
            <input matInput placeholder="City" formControlName="city" />
            <mat-error
              *ngIf="applicationForm.controls['city'].hasError('required')"
            >
              City is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>State</mat-label>
            <input matInput placeholder="State" formControlName="state" />
            <mat-error
              *ngIf="applicationForm.controls['state'].hasError('required')"
            >
              State is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <input
              matInput
              #postalCode
              maxlength="6"
              placeholder="Postal Code"
              type="number"
              formControlName="postalCode"
            />
            <mat-hint align="end">{{ postalCode.value.length }} / 6</mat-hint>
            <mat-error
              *ngIf="
                applicationForm.controls['postalCode'].hasError('required')
              "
            >
              Postal Code is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-label>Gender</mat-label>
          <mat-radio-group formControlName="gender">
            <mat-radio-button value="Female">Female</mat-radio-button>
            <mat-radio-button value="Male">Male</mat-radio-button>
            <mat-radio-button value="Others">
              Others
            </mat-radio-button>
          </mat-radio-group>
        </div>
      </div>
      <div class="row">
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>
              Admission Number
            </mat-label>
            <input
              matInput
              placeholder="Admission Number"
              formControlName="admissionNumber"
            />
            <span matSuffix>@school.com</span>
            <mat-hint>
              The admission number entered here will be suffixed with
              @school.com automatically and will be the username for the
              student.
            </mat-hint>
            <mat-error
              *ngIf="
                applicationForm.controls['admissionNumber'].hasError('required')
              "
            >
              Admission number is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col">
          <mat-form-field
            class="full-width"
            appearance="outline"
            color="accent"
          >
            <mat-label>
              Password
            </mat-label>
            <input matInput placeholder="Password" formControlName="password" />
            <mat-error
              *ngIf="applicationForm.controls['password'].hasError('required')"
            >
              Password is <strong>required</strong>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <button
        mat-raised-button
        color="accent"
        type="submit"
        [disabled]="applicationForm.invalid"
      >
        Submit
      </button>
      <button mat-raised-button color="warn" type="reset">Reset</button>
    </mat-card-actions>
  </mat-card>
</form>
